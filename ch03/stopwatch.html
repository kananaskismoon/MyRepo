<!DOCTYPE HTML>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<script type="text/javascript">
		window.onload = init;
		function init() {
			document.sWatch.start.onclick = startWatch;
			document.sWatch.reset.onclick = stopWatch;
		}

		var timerID;
		function startWatch() {
            var count = parseInt(document.sWatch.time.value);
            if (count <= 0){
                count = 0;
                return;
            } else if (timerID){
                count--;
            }
            document.sWatch.time.value = count;

            if (count == 0) {
                window.clearTimeout(timerID);
                timerID = 0;
                alert("時間です");
                return;
            }
            timerID = window.setTimeout("startWatch()", 1000);
		}
		function stopWatch() {
		    if (timerID) {
		        window.clearTimeout(timerID);
		        timerID = 0;
		        document.sWatch.time.value = 0;
		    }
		}
	</script>
	<title>ストップウオッチ</title>
</head>
<body bgcolor="#FFFFFF">
	<h1>ストップウオッチ</h1>
	<form name="sWatch">
		<p>
		時間<input type="text" name="time" size="3" value="10">秒<br>
		<input name="start" type="button" value="スタート">
		<input name="reset" type="button" value="リセット">
		</p>
	</form>
</body>
</html>